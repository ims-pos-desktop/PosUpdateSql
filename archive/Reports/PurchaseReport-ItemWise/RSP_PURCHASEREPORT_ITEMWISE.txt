CREATE OR ALTER procedure [dbo].[RSP_PURCHASEREPORT_ITEMWISE]
--DECLARE
	@DATE1 DATETIME,
	@DATE2 DATETIME,
	@DIVISION VARCHAR(3) = '%',
	@MCODE VARCHAR(25) = '%',
	@BARCODE VARCHAR(MAX)= '%',
	@PATH VARCHAR(MAX) = '%',
	@MGROUP VARCHAR(25) = '%',
	@MENUCAT VARCHAR(50) = '%',
	@PTYPE INT = 0,
	@SUPPLIER_ACID VARCHAR(25) = '%',
	@SELECTEDITEMLIST VARCHAR(MAX) = '',
	@SHOWINTERCOMPANYONLY TINYINT = 0,
	@BARCODEWISEREPORT TINYINT =0,
	@DIVISIONWISEREPORT TINYINT = 0,
	@WISE VARCHAR(25) = 'ITEM',
	@ATTRIBUTE VARCHAR(100) = '%',			
	@OPT_TREE TINYINT = 0

AS
IF @SELECTEDITEMLIST IS NULL SET @SELECTEDITEMLIST=''
SET @DATE1 = CAST(@DATE1 AS DATE)
SET @DATE2 = CAST(@DATE2 AS DATE)
EXEC NSP_PURCHASEREPORT_ITEMWISE
	@DATE1 =@DATE1 ,
	@DATE2 =@DATE2 ,
	@DIV =@DIVISION,
	@MC =@MCODE,
	@BC =@BARCODE,
	@PATH =@PATH,
	@MGROUP =@MGROUP,
	@MCAT =@MENUCAT,
	@PTYPE =@PTYPE,
	@PARTY =@SUPPLIER_ACID,
	@ITEMLIST =@SELECTEDITEMLIST,
	@SHOWINTERCOMPANYONLY =@SHOWINTERCOMPANYONLY,
	@BARCODEWISEREPORT =@BARCODEWISEREPORT,
	@DIVISIONWISEREPORT =@DIVISIONWISEREPORT,
	@WISE =@WISE,
	@ATTRIBUTE = @ATTRIBUTE,			--'COLOR LIKE ''RED'''
	@TREE =@OPT_TREE
