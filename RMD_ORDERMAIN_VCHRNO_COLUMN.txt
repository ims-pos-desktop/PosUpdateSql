IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'RMD_ACLIST' AND COLUMN_NAME= 'ACNAME' AND CHARACTER_MAXIMUM_LENGTH <> 100)
ALTER TABLE RMD_ACLIST ALTER COLUMN ACNAME VARCHAR(100) NOT NULL


IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'RMD_ACLIST' AND COLUMN_NAME= 'ADDRESS' AND CHARACTER_MAXIMUM_LENGTH <> 100)
ALTER TABLE RMD_ACLIST ALTER COLUMN ADDRESS VARCHAR(100) 


IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'TRNMAIN' AND COLUMN_NAME= 'BILLTOADD' AND CHARACTER_MAXIMUM_LENGTH <> 100)
ALTER TABLE TRNMAIN ALTER COLUMN BILLTOADD VARCHAR(100) 


IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'ABBMAIN' AND COLUMN_NAME= 'BILLTOADD' AND CHARACTER_MAXIMUM_LENGTH <> 100)
ALTER TABLE ABBMAIN ALTER COLUMN BILLTOADD VARCHAR(100) 


IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'ACCMAIN' AND COLUMN_NAME= 'BILLTOADD' AND CHARACTER_MAXIMUM_LENGTH <> 100)
ALTER TABLE ACCMAIN ALTER COLUMN BILLTOADD VARCHAR(100) 


IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'INVMAIN' AND COLUMN_NAME= 'BILLTOADD' AND CHARACTER_MAXIMUM_LENGTH <> 100)
ALTER TABLE ACCMAIN ALTER COLUMN BILLTOADD VARCHAR(100) 


IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'AOPMAIN' AND COLUMN_NAME= 'BILLTOADD' AND CHARACTER_MAXIMUM_LENGTH <> 100)
ALTER TABLE AOPMAIN ALTER COLUMN BILLTOADD VARCHAR(100) 


IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'OPMAIN' AND COLUMN_NAME= 'BILLTOADD' AND CHARACTER_MAXIMUM_LENGTH <> 100)
ALTER TABLE OPMAIN ALTER COLUMN BILLTOADD VARCHAR(100) 


IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'PURMAIN' AND COLUMN_NAME= 'BILLTOADD' AND CHARACTER_MAXIMUM_LENGTH <> 100)
ALTER TABLE PURMAIN ALTER COLUMN BILLTOADD VARCHAR(100) 

IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'RMD_ORDERMAIN' AND COLUMN_NAME= 'VCHRNO' AND CHARACTER_MAXIMUM_LENGTH = 15)
BEGIN 
ALTER TABLE RMD_ORDERPROD DROP CONSTRAINT FK_RMD_ORDERPROD_RMD_ORDERMAIN
ALTER TABLE RMD_ORDERMAIN DROP CONSTRAINT PK_RMD_ORDERMAIN
ALTER TABLE RMD_ORDERMAIN ALTER COLUMN VCHRNO VARCHAR(25) NOT NULL
ALTER TABLE RMD_ORDERMAIN ALTER COLUMN PhiscalID VARCHAR(20) NOT NULL
ALTER TABLE RMD_ORDERPROD ALTER COLUMN VCHRNO VARCHAR(25) NOT NULL
ALTER TABLE RMD_ORDERPROD ALTER COLUMN PhiscalID VARCHAR(20) NOT NULL
ALTER TABLE RMD_ORDERMAIN ADD CONSTRAINT PK_RMD_ORDERMAIN PRIMARY KEY(VCHRNO, DIVISION, PhiscalID)
ALTER TABLE RMD_ORDERPROD ADD CONSTRAINT FK_RMD_ORDERPROD_RMD_ORDERMAIN FOREIGN KEY (VCHRNO, DIVISION, PhiscalID) REFERENCES RMD_ORDERMAIN(VCHRNO, DIVISION, PhiscalID)
END