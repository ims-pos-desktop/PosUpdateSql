CREATE OR ALTER   PROC [dbo].[RSP_CashDropDetails]  
--DECLARE   
@DIVISION VARCHAR(3) = '%',
@USER VARCHAR(10)='%',
@SALESTERMINAL VARCHAR(25)='%',  
@DATE1 DATE,
@DATE2 DATE
AS  
--SET @DIVISION = 'MMD'; SET @SALESTERMINAL = 'MD2'; SET @User = '%'; SET @DATE1 = '2020-07-22 00:00:00'; SET @DATE2 = '2020-07-23 00:00:00'

SELECT TRNDATE, TRNTIME, D.[NAME] BRANCH, S.[NAME] TERMINAL, TRNUSER, AMOUNT, CUSER FROM PARTIALSETTLEMENT P
JOIN SALESTERMINAL S ON P.TERMINAL = S.INITIAL
JOIN DIVISION D ON S.DIVISION = D.INITIAL
WHERE P.DIVISION LIKE @DIVISION AND TERMINAL LIKE @SALESTERMINAL AND TRNUSER LIKE @User AND TRNDATE BETWEEN @DATE1 AND @DATE2 
