CREATE OR ALTER PROCEDURE [dbo].[NSP_DEBTORSREPORT]
	@DATE1 VARCHAR(25),
	@DATE2 VARCHAR(25),
	@DIV AS VARCHAR(15) = '%',
	@FLG TINYINT = 1,
	@SHOWDETAIL TINYINT = 0,
	@OPNINGONLY TINYINT = 0,
	@EXNEGETIVE TINYINT=0,
	@CostCenter varchar(25) = '%',
	@TREE TINYINT=0,
	@DebtorOrCreditor char(1) = 'C',
	@SHOWFALLOWUPRMK TINYINT = 0,
	@D1 NUMERIC=1,
	@D2 NUMERIC=1,
	@D3 NUMERIC=1,
	@D4 NUMERIC=1,
	@AGEINGOFPARTYOPENING TINYINT=1,
	@SHOWAGEINGREPORT TINYINT = 0,
	@FYID VARCHAR(10) = '%'
AS
DECLARE @DCFLAG TINYINT = 0
IF @DebtorOrCreditor <> 'C' SET @DCFLAG = 1

	IF @SHOWAGEINGREPORT =0
		EXEC NSP_DEBTORS_REPORT @DATE1,@DATE2,@DIV,@FLG,@SHOWDETAIL,@OPNINGONLY,@EXNEGETIVE,@CostCenter,@TREE,@DebtorOrCreditor,@SHOWFALLOWUPRMK,@FYID
	ELSE
		EXEC NSP_DEBTORSCREDITORS_AGEING @DATE2,@D1,@D2,@D3,@D4,@DIV,@DCFLAG,@SHOWDETAIL,@EXNEGETIVE,@CostCenter,@SHOWFALLOWUPRMK,@AGEINGOFPARTYOPENING,@TREE,@FYID
